(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["plugins/pt/index/index"],{5485:function(t,e,n){},"6cd3":function(t,e,n){"use strict";n.r(e);var i=n("9a81"),r=n("f861");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("fed8");var s=n("2877"),u=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"0ef2124e",null);e["default"]=u.exports},"9a81":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},f05f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("a34a")),r=n("2f62");function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return f(t)||l(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function f(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function d(t,e,n,i,r,a,s){try{var u=t[a](s),o=u.value}catch(c){return void n(c)}u.done?e(o):Promise.resolve(o).then(i,r)}function h(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var a=t.apply(e,n);function s(t){d(a,i,r,s,u,"next",t)}function u(t){d(a,i,r,s,u,"throw",t)}s(void 0)})}}var g=function(){return n.e("plugins/pt/components/app-index-nav").then(n.bind(null,"7136"))},v=function(){return n.e("plugins/pt/components/app-banner").then(n.bind(null,"9ff8"))},b=function(){return n.e("components/page-component/app-image-ad/app-image-ad").then(n.bind(null,"605d"))},m=function(){return n.e("plugins/pt/components/app-product-list").then(n.bind(null,"bbb8"))},y=function(){return n.e("components/page-component/app-quick-navigation/app-quick-navigation").then(n.bind(null,"4d92"))},_={name:"index",data:function(){return{banners:[],setting:{},nav_list:[],page:1,page_count:1,goods_list:[],cat_id:0,imageStyle:0}},onLoad:function(t){t.cat_id&&(this.cat_id=t.cat_id),this.requestSetting(),this.requestCats(t.cat_id)},onReachBottom:function(){this.page<this.page_count&&(this.page++,this.requestList(1))},methods:{changeStatus:function(){var t=h(i.default.mark(function t(e){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.cat_id=e,this.page=1,this.goods_list=[],this.requestList(0);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),requestList:function(){var t=h(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:this.$api.pt.goods,data:{page:this.page,cat_id:this.cat_id}});case 2:n=t.sent,0===n.code&&(1===e?(r=this.goods_list).push.apply(r,c(n.data.list)):this.goods_list=n.data.list,this.page_count=n.data.pagination.page_count);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),requestSetting:function(){var t=h(i.default.mark(function t(){var e,n,r,a;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:this.$api.pt.index});case 2:if(e=t.sent,0===e.code){for(this.banners=e.data.banners,console.log(this.banners),this.setting=e.data.setting,n=e.data.setting.advertisement,r=[],a=0;a<n.list.length;a++)r.push(u({},n.list[a],{link:{value:n.list[a].link_url,open_type:n.list[a].open_type}}));this.setting.advertisement.list=r,this.imageStyle=Number(n.style)}case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),requestCats:function(){var t=h(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:this.$api.pt.cats});case 2:n=t.sent,0===n.code&&((r=this.nav_list).push.apply(r,c(n.data.list)),e||(this.cat_id=this.nav_list[0].id),this.requestList(0));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},onShareAppMessage:function(){return this.$shareAppMessage({path:"/plugins/pt/index/index",title:this.$children[0].navigationBarTitle})},computed:u({},(0,r.mapGetters)("mallConfig",{getTheme:"getTheme"})),components:{"app-index-nav":g,"app-banner":v,"app-image-ad":b,"app-product-list":m,"app-quick-navigation":y}};e.default=_},f861:function(t,e,n){"use strict";n.r(e);var i=n("f05f"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=r.a},fed8:function(t,e,n){"use strict";var i=n("5485"),r=n.n(i);r.a}},[["04881","common/runtime","common/vendor"]]]);