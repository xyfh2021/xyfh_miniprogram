(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/app_admin/cash/cash"],{"12c2":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(s("a34a"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,s,i,n,o,a){try{var h=t[o](a),r=h.value}catch(u){return void s(u)}h.done?e(r):Promise.resolve(r).then(i,n)}function a(t){return function(){var e=this,s=arguments;return new Promise(function(i,n){var a=t.apply(e,s);function h(t){o(a,i,n,h,r,"next",t)}function r(t){o(a,i,n,h,r,"throw",t)}h(void 0)})}}function h(t){return c(t)||u(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,s=new Array(t.length);e<t.length;e++)s[e]=t[e];return s}}var l={name:"cash",data:function(){return{searchBool:!1,list:[],mch:"0",share:"0",bonus:"0",stock:"0",region:"0",titleShow:!1,type:"mch",titleWidth:null,getFocus:!1,status:0,over:!1,model:!1,modelType:-1,textarea:"",setItem:{},page:1,inputText:""}},onLoad:function(e){var s=this;this.mch=e.mch,this.share=e.share,this.bonus=e.bonus,this.stock=e.stock,this.region=e.region;var i=0;1==this.mch&&i++,1==this.share&&i++,1==this.bonus&&i++,1==this.stock&&i++,1==this.region&&i++,this.titleWidth=1/i*100+"%","1"==this.mch&&("1"==this.share||"1"==this.bonus||"1"==this.stock||"1"==this.region?this.titleShow=!0:t.setNavigationBarTitle({title:"多商户提现"})),"1"==this.share&&("1"==this.mch||"1"==this.bonus||"1"==this.stock||"1"==this.region?(this.titleShow=!0,"0"==this.mch&&(this.type="share")):(this.type="share",t.setNavigationBarTitle({title:"分销商提现"}))),"1"==this.bonus&&("1"==this.mch||"1"==this.share||"1"==this.stock||"1"==this.region?(this.titleShow=!0,"0"==this.mch&&(this.type="share")):(this.type="bonus",t.setNavigationBarTitle({title:"团队分红提现"}))),"1"==this.stock&&("1"==this.mch||"1"==this.bonus||"1"==this.share||"1"==this.region?(this.titleShow=!0,"0"==this.mch&&(this.type="share")):(this.type="stock",t.setNavigationBarTitle({title:"股东分红提现"}))),"1"==this.region&&("1"==this.mch||"1"==this.bonus||"1"==this.share||"1"==this.stock?(this.titleShow=!0,"0"==this.mch&&(this.type="share")):(this.type="region",t.setNavigationBarTitle({title:"区域代理提现"}))),this.$request({url:this.$api.app_admin.cash,data:{page:1,model_type:this.type,status:0,keyword:""}}).then(function(e){0==e.code?s.list=e.data.list:t.showToast({title:e.msg,icon:"none",duration:1e3})})},onReachBottom:function(){this.over||(this.page++,this.bottomRequest())},methods:{searchText:function(){var t=this;setTimeout(function(e){t.page=1,t.over=!1,t.getFocus=!1,""==t.inputText&&(t.searchBool=!1),t.switchRequest({type:1})},300)},clearSearch:function(){this.inputText=""},bottomRequest:function(){var e=this;this.$request({url:this.$api.app_admin.cash,data:{page:this.page,model_type:this.type,status:this.status,keyword:""}}).then(function(s){0===s.code?0===s.data.list.length?e.over=!0:e.list=[].concat(h(e.list),h(s.data.list)):t.showToast({title:s.msg,icon:"none",duration:1e3})})},setStatus:function(e){var s=this;this.page=1,this.status=e,this.over=!1,this.inputText="",this.searchBool=!1,this.$request({url:this.$api.app_admin.cash,data:{page:1,model_type:this.type,status:e,keyword:this.inputText}}).then(function(e){0===e.code?s.list=e.data.list:t.showToast({title:e.msg,icon:"none",duration:1e3})})},mchShare:function(e){var s=this;this.page=1,this.status=0,this.over=!1,this.type=e,this.inputText="",this.searchBool=!1,this.list=[],this.$request({url:this.$api.app_admin.cash,data:{page:1,model_type:e,status:0,keyword:this.inputText}}).then(function(e){0===e.code?s.list=e.data.list:t.showToast({title:e.msg,icon:"none",duration:1e3})})},confirm:function(){var e=this;if(1===this.modelType){if(""===this.textarea)return t.showToast({title:"请填写拒绝理由",icon:"none",duration:1e3}),!1;this.$request({url:this.$api.app_admin.cash_save,method:"post",data:{status:3,id:this.setItem.id,content:this.textarea,model_type:this.type}}).then(function(s){if(0===s.code)for(var i=0;i<e.list.length;i++)e.list[i].id===e.setItem.id&&(e.$delete(e.list,i),e.model=!1,e.textarea="");else t.showToast({title:s.msg,icon:"none",duration:1e3})})}else 3===this.modelType?this.$request({url:this.$api.app_admin.cash_save,method:"post",data:{id:this.setItem.id,content:"小程序端操作",model_type:this.type,status:2}}).then(function(s){if(0===s.code)for(var i=0;i<e.list.length;i++)e.list[i].id===e.setItem.id&&(e.$delete(e.list,i),e.model=!1);else t.showToast({title:s.msg,icon:"none",duration:1e3})}):2===this.modelType&&this.$request({url:this.$api.app_admin.cash_save,method:"post",data:{id:this.setItem.id,content:"小程序端操作",model_type:this.type,status:1}}).then(function(s){if(0===s.code)for(var i=0;i<e.list.length;i++)e.list[i].id===e.setItem.id&&(e.$delete(e.list,i),e.model=!1,e.textarea="");else t.showToast({title:s.msg,icon:"none",duration:1e3})})},refuse:function(t){this.setItem=t,this.model=!0,this.modelType=1},byGo:function(t){this.setItem=t,this.model=!0,this.modelType=2},pay:function(t){this.setItem=t,this.model=!0,this.modelType=3},request:function(){var e=a(i.default.mark(function e(s){var n;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request({url:this.$api.app_admin.cash,data:{model_type:this.type,page:s.page,status:s.status,keyword:this.inputText}});case 2:n=e.sent,0===n.code?this.list=n.data.list:t.showToast({title:n.msg,icon:"none",duration:1e3});case 4:case"end":return e.stop()}},e,this)}));function s(t){return e.apply(this,arguments)}return s}(),switchRequest:function(t){0===this.status?this.request({page:this.page,status:0}):1===this.status&&this.request({page:this.page,status:1})}}};e.default=l}).call(this,s("543d")["default"])},"6d88":function(t,e,s){"use strict";var i=s("95c8"),n=s.n(i);n.a},"7bac":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.getFocus=!0},t.e1=function(e){t.searchBool=!0},t.e2=function(e){t.model=!1,t.modelType=-1})},n=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})},"95c8":function(t,e,s){},c3ea:function(t,e,s){"use strict";s.r(e);var i=s("7bac"),n=s("fb3f");for(var o in n)"default"!==o&&function(t){s.d(e,t,function(){return n[t]})}(o);s("6d88");var a=s("2877"),h=Object(a["a"])(n["default"],i["a"],i["b"],!1,null,"8e808abe",null);e["default"]=h.exports},fb3f:function(t,e,s){"use strict";s.r(e);var i=s("12c2"),n=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(e,t,function(){return i[t]})}(o);e["default"]=n.a}},[["02d7","common/runtime","common/vendor"]]]);