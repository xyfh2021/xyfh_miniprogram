<app-layout vue-id="1" class="data-v-29ede610" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'height:'+(windowHeight+'px')+';'}}" scroll-y class="data-v-29ede610"><view class="title data-v-29ede610">基本信息</view><block wx:if="{{is_ecard===1}}"><view class="goods-type data-v-29ede610"><view class="info-item type cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">商品类型</view><view class="select data-v-29ede610"><radio-group data-event-opts="{{[['change',[['typeChange',['$event']]]]]}}" class="dir-left-nowrap main-between data-v-29ede610" bindchange="__e"><label class="dir-left-nowrap data-v-29ede610"><view class="data-v-29ede610"><radio disabled="{{id!==0}}" color="#446dfd" value="goods" checked="{{form.type==='goods'}}" class="data-v-29ede610"></radio></view><view class="select-label data-v-29ede610">实体商品</view></label><label class="dir-left-nowrap data-v-29ede610"><view class="data-v-29ede610"><radio disabled="{{id!==0}}" color="#446dfd" value="ecard" checked="{{form.type==='ecard'}}" class="data-v-29ede610"></radio></view><view class="select-label data-v-29ede610">电子卡密</view></label></radio-group></view></view><block wx:if="{{form.type==='ecard'}}"><view class="info-item cross-center main-between data-v-29ede610"><view class="form-label data-v-29ede610">选择卡密</view><view data-event-opts="{{[['tap',[['chooseECard',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="cat-info dir-right-nowrap cross-center data-v-29ede610"><view class="cat-info dir-right-nowrap cross-center data-v-29ede610"><image class="to-more data-v-29ede610" src="/static/image/icon/arrow-right.png"></image><block wx:if="{{form.plugin_data.ecard.ecard_id>0}}"><text class="data-v-29ede610">{{form.plugin_data.ecard.name}}</text></block><block wx:else><text style="color:#cdcdcd;" class="data-v-29ede610">未选择</text></block></view></view></view></view></block></view></block><view class="goods-img data-v-29ede610"><view class="label data-v-29ede610"><text style="color:#353535;" class="data-v-29ede610">商品图片</text><text class="label-info data-v-29ede610">(最多9张，可拖拽改变顺序)</text></view><view class="goods-list data-v-29ede610"><movable-area class="flex-wrap data-v-29ede610" style="height:auto;width:100%;"><block wx:for="{{img}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['touchend',[['touchend',['$event']]]],['touchmove',[['touchm',['$event']]]],['longpress',[['_longtap',['$0',index,'$event'],[[['img','',index,'pic_url']]]]]]]}}" class="goods-item data-v-29ede610" catchtouchend="__e" catchtouchmove="__e" catchlongpress="__e"><image class="goods-cover move-img data-v-29ede610" mode="aspectFill" data-index="{{index}}" src="{{item.pic_url}}"></image><block wx:if="{{!beMove}}"><image class="del-btn data-v-29ede610" src="./../image/delete.png" data-event-opts="{{[['tap',[['del_img',[index]]]]]}}" catchtap="__e"></image></block><block wx:if="{{index===0&&!beMove}}"><view class="main-img data-v-29ede610">主图</view></block></view></block><block wx:if="{{img.length<9}}"><view data-event-opts="{{[['tap',[['addImg',['$event']]]]]}}" class="add-goods-img data-v-29ede610" catchtap="__e"><image src="./../image/add-goods.png" class="data-v-29ede610"></image><view class="data-v-29ede610">添加</view></view></block><movable-view data-index="{{beginIndex}}" x="{{x}}" y="{{y}}" direction="all" damping="{{5000}}" friction="{{1}}" disabled="{{disabled}}" class="data-v-29ede610"><image class="goods-cover img-border data-v-29ede610" hidden="{{imgHidden}}" mode="aspectFill" src="{{img_src}}"></image></movable-view></movable-area></view></view><view class="goods-info data-v-29ede610"><view class="info-item goods-name cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">商品名称</view><block wx:if="{{inputName}}"><view data-event-opts="{{[['tap',[['nameBlur',['$event']]]]]}}" class="{{['data-v-29ede610',form.name.length>0?'input':'input placeholder']}}" bindtap="__e">{{form.name?form.name:'请输入商品名称'}}</view></block><block wx:else><input class="input data-v-29ede610" focus="{{!inputName}}" placeholder-style="color: #cdcdcd" placeholder="请输入商品名称" data-event-opts="{{[['blur',[['nameBlur',['$event']]]],['input',[['__set_model',['$0','name','$event',[]],['form']]]]]}}" value="{{form.name}}" bindblur="__e" bindinput="__e"/></block></view><view class="info-item cross-center main-between data-v-29ede610"><view class="form-label data-v-29ede610">商品分类</view><view data-event-opts="{{[['tap',[['chooseCat',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="cat-info dir-right-nowrap cross-center data-v-29ede610"><image class="to-more data-v-29ede610" src="/static/image/icon/arrow-right.png"></image><block wx:if="{{cats.length>0}}"><text class="data-v-29ede610">编辑</text></block><block wx:else><text style="color:#cdcdcd;" class="data-v-29ede610">未选择</text></block></view></view></view><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">单位</view><view class="dir-left-nowrap cross-center data-v-29ede610"><input class="input data-v-29ede610" maxlength="4" placeholder-style="color: #cdcdcd" placeholder="请输入商品单位" data-event-opts="{{[['input',[['__set_model',['','unit','$event',[]]]]]]}}" value="{{unit}}" bindinput="__e"/></view></view></view><view class="title data-v-29ede610">{{(form.type==='goods'?'规格、价格及':'价格、')+"库存"}}</view><view class="goods-info data-v-29ede610"><block wx:if="{{form.type==='goods'}}"><view class="info-item main-between data-v-29ede610"><view class="data-v-29ede610">多规格</view><switch style="transform:scale(0.7);" checked="{{set_attr}}" data-event-opts="{{[['change',[['e0',['$event']]]]]}}" bindchange="__e" class="data-v-29ede610"></switch></view></block><block wx:if="{{set_attr&&form.type==='goods'}}"><view class="info-item cross-center main-between data-v-29ede610"><view class="form-label data-v-29ede610">商品规格</view><view data-event-opts="{{[['tap',[['chooseAttr',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="cat-info dir-right-nowrap cross-center data-v-29ede610"><image class="to-more data-v-29ede610" src="/static/image/icon/arrow-right.png"></image><block wx:if="{{attr}}"><text class="data-v-29ede610">已设置</text></block><block wx:else><text style="color:#cdcdcd;" class="data-v-29ede610">未设置，点击设置</text></block></view></view></view></block><block wx:if="{{!set_attr&&form.type==='goods'}}"><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">规格</view><view class="dir-left-nowrap cross-center price-input data-v-29ede610"><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" data-event-opts="{{[['input',[['__set_model',['$0','attr_default_name','$event',[]],['form']]]]]}}" value="{{form.attr_default_name}}" bindinput="__e"/></view></view></block><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">成本价</view><view class="dir-left-nowrap price-input cross-center main-between data-v-29ede610"><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入成本价" type="digit" data-event-opts="{{[['change',[['costChange',['$event']]]],['input',[['__set_model',['$0','cost_price','$event',[]],['form']]]]]}}" value="{{form.cost_price}}" bindchange="__e" bindinput="__e"/><view class="data-v-29ede610">元</view></view></view><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">原价</view><view class="dir-left-nowrap price-input cross-center main-between data-v-29ede610"><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入原价" type="digit" data-event-opts="{{[['change',[['originalChange',['$event']]]],['input',[['__set_model',['$0','original_price','$event',[]],['form']]]]]}}" value="{{form.original_price}}" bindchange="__e" bindinput="__e"/><view class="data-v-29ede610">元</view></view></view><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">售价</view><view class="dir-left-nowrap price-input cross-center main-between data-v-29ede610"><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入售价" type="digit" data-event-opts="{{[['change',[['priceChange',['$event']]]],['input',[['__set_model',['$0','price','$event',[]],['form']]]]]}}" value="{{form.price}}" bindchange="__e" bindinput="__e"/><view class="data-v-29ede610">元</view></view></view><block wx:if="{{!set_attr}}"><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">库存</view><view class="dir-left-nowrap price-input cross-center main-between data-v-29ede610"><input class="input unit data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入库存" type="number" data-event-opts="{{[['input',[['__set_model',['$0','goods_num','$event',[]],['form']]]]]}}" value="{{form.goods_num}}" bindinput="__e"/><view class="unit-width data-v-29ede610">{{unit}}</view></view></view></block><block wx:if="{{!set_attr}}"><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">货号</view><view class="dir-left-nowrap price-input cross-center data-v-29ede610"><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入货号" data-event-opts="{{[['input',[['__set_model',['$0','goods_no','$event',[]],['form']]]]]}}" value="{{form.goods_no}}" bindinput="__e"/></view></view></block><block wx:if="{{!set_attr&&form.type==='goods'}}"><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">重量</view><view class="dir-left-nowrap cross-center price-input data-v-29ede610"><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入重量" type="number" data-event-opts="{{[['input',[['__set_model',['$0','goods_weight','$event',[]],['form']]]]]}}" value="{{form.goods_weight}}" bindinput="__e"/><view class="data-v-29ede610">g</view></view></view></block></view><view class="title data-v-29ede610">{{(form.type==='goods'?'运费、包邮及':'')+"限购"}}</view><view class="goods-info data-v-29ede610"><block wx:if="{{form.type==='goods'}}"><view class="info-item cross-center main-between data-v-29ede610"><view class="form-label data-v-29ede610">运费设置</view><view data-event-opts="{{[['tap',[['chooseExpress',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="cat-info dir-right-nowrap cross-center data-v-29ede610"><image class="to-more data-v-29ede610" src="/static/image/icon/arrow-right.png"></image><block wx:if="{{bePostage.id>0}}"><text class="data-v-29ede610">{{bePostage.name}}</text></block><block wx:else><text style="color:#cdcdcd;" class="data-v-29ede610">未选择</text></block></view></view></view></block><block wx:if="{{form.type==='goods'}}"><view class="express-setting data-v-29ede610"><view class="express-input cross-center data-v-29ede610"><view class="integral data-v-29ede610">满件包邮</view><view class="dir-left-nowrap cross-center input-item data-v-29ede610"><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入包邮件数" type="number" data-event-opts="{{[['input',[['__set_model',['$0','pieces','$event',[]],['form']]]]]}}" value="{{form.pieces}}" bindinput="__e"/><view class="data-v-29ede610">件</view></view></view><view class="express-etc data-v-29ede610">如果设置0或空，则不支持满件包邮</view></view></block><block wx:if="{{form.type==='goods'}}"><view class="express-setting data-v-29ede610"><view class="express-input cross-center data-v-29ede610"><view class="integral data-v-29ede610">满额包邮</view><view class="dir-left-nowrap cross-center input-item data-v-29ede610"><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入包邮金额" type="digit" data-event-opts="{{[['input',[['__set_model',['$0','forehead','$event',[]],['form']]]]]}}" value="{{form.forehead}}" bindinput="__e"/><view class="data-v-29ede610">元</view></view></view><view class="express-etc data-v-29ede610">如果设置0或空，则不支持满额包邮</view></view></block><view class="info-item main-between data-v-29ede610"><view class="data-v-29ede610">限购</view><switch style="transform:scale(0.7);" checked="{{confine}}" data-event-opts="{{[['change',[['changeConfine',['$event']]]]]}}" bindchange="__e" class="data-v-29ede610"></switch></view><block wx:if="{{confine}}"><view class="info-item cross-center dir-left-nowrap data-v-29ede610"><view class="form-label data-v-29ede610">限购数量</view><view class="dir-left-nowrap cross-center price-input data-v-29ede610"><view class="dir-left-nowrap cross-center price-input data-v-29ede610"><input class="input data-v-29ede610" style="width:396rpx;" placeholder-style="color: #cdcdcd" placeholder="请输入限购数量" type="number" data-event-opts="{{[['input',[['__set_model',['$0','confine_count','$event',[]],['form']]]]]}}" value="{{form.confine_count}}" bindinput="__e"/><view class="data-v-29ede610">{{unit}}</view></view></view></view></block></view><view class="title data-v-29ede610">商品图文描述</view><view class="goods-info data-v-29ede610"><view class="info-item cross-center main-between data-v-29ede610"><view class="form-label data-v-29ede610">商品图文描述</view><view data-event-opts="{{[['tap',[['toGoodsDetail',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="cat-info dir-right-nowrap cross-center data-v-29ede610"><image class="to-more data-v-29ede610" src="/static/image/icon/arrow-right.png"></image><block wx:if="{{goods_detail.length>0}}"><text class="data-v-29ede610">已添加</text></block><block wx:else><text style="color:#cdcdcd;" class="data-v-29ede610">未添加</text></block></view></view></view></view><view class="title data-v-29ede610">积分设置</view><view class="goods-info integral-info data-v-29ede610"><view class="express-setting data-v-29ede610"><view class="express-input cross-center data-v-29ede610"><view class="integral data-v-29ede610">积分赠送</view><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入积分赠送数量或比例" data-event-opts="{{[['input',[['__set_model',['','give_integral','$event',[]]]]]]}}" value="{{give_integral}}" bindinput="__e"/></view><view class="express-etc data-v-29ede610">会员购物赠送积分，如果不填或填0，则默认为不赠送，如果带%则为按成交价格的比例计算积分。</view></view><view class="express-setting data-v-29ede610"><view class="express-input cross-center data-v-29ede610"><view class="integral data-v-29ede610">积分抵扣</view><input class="input data-v-29ede610" placeholder-style="color: #cdcdcd" placeholder="请输入积分抵扣数量或比例" data-event-opts="{{[['input',[['__set_model',['','forehead_integral','$event',[]]]]]]}}" value="{{forehead_integral}}" bindinput="__e"/></view><view class="express-etc data-v-29ede610">如果不填或填0，则不支持积分抵扣；如果带%则为按成交价格的比例计算抵扣多少元。</view></view></view><view class="title data-v-29ede610">卡券</view><view class="goods-info data-v-29ede610"><view class="info-item cross-center main-between data-v-29ede610"><view class="form-label data-v-29ede610">卡券</view><view data-event-opts="{{[['tap',[['chooseCard',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="cat-info dir-right-nowrap cross-center data-v-29ede610"><image class="to-more data-v-29ede610" src="/static/image/icon/arrow-right.png"></image><block wx:if="{{goods_card.length>0}}"><text class="data-v-29ede610">已选择</text></block><block wx:else><text style="color:#cdcdcd;" class="data-v-29ede610">未选择</text></block></view></view></view></view><view class="title data-v-29ede610">服务内容</view><view class="goods-info data-v-29ede610"><view class="info-item main-between data-v-29ede610"><view class="data-v-29ede610">默认服务</view><switch style="transform:scale(0.7);" checked="{{is_default_services}}" data-event-opts="{{[['change',[['e1',['$event']]]]]}}" bindchange="__e" class="data-v-29ede610"></switch></view><block wx:if="{{is_default_services==0}}"><view class="info-item cross-center main-between data-v-29ede610"><view class="form-label data-v-29ede610">服务内容</view><view data-event-opts="{{[['tap',[['chooseService',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="cat-info dir-right-nowrap cross-center data-v-29ede610"><image class="to-more data-v-29ede610" src="/static/image/icon/arrow-right.png"></image><block wx:if="{{beService.length>0}}"><text class="data-v-29ede610">已选择</text></block><block wx:else><block wx:if="{{service.length>0}}"><text style="color:#cdcdcd;" class="data-v-29ede610">未选择</text></block><block wx:else><text style="color:#cdcdcd;" class="data-v-29ede610">未设置</text></block></block></view></view></view></block></view><view class="main-between form-button data-v-29ede610"><view data-event-opts="{{[['tap',[['submit',[0]]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="save data-v-29ede610">保存</view></view><view data-event-opts="{{[['tap',[['submit',[1]]]]]}}" bindtap="__e" class="data-v-29ede610"><view class="send data-v-29ede610">上架</view></view></view><block wx:if="{{dialog}}"><view class="{{['data-v-29ede610','dialog',''+(iphone_x?'iphone_x':'')]}}"><view class="picker-list data-v-29ede610"><view class="main-between picker-header data-v-29ede610"><view data-event-opts="{{[['tap',[['toggle',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610">取消</view><view data-event-opts="{{[['tap',[['toggle',[1]]]]]}}" bindtap="__e" class="data-v-29ede610">确定</view></view><picker-view class="picker data-v-29ede610" value="{{[set_postage?postageIndex:-1]}}" data-event-opts="{{[['change',[['bindChange',['$event']]]]]}}" bindchange="__e"><picker-view-column class="data-v-29ede610"><block wx:for="{{postage}}" wx:for-item="item" wx:for-index="idx" wx:key="id"><view class="{{['data-v-29ede610','cross-center picker-text',[(newIndex===idx)?'sure-color':'',(newIndex===idx+1||newIndex===idx-1)?'cardinal-color':'',(newIndex===idx+2||newIndex===idx-2)?'even-color':'']]}}">{{item.name}}</view></block></picker-view-column></picker-view></view></view></block><block wx:if="{{ecard_dialog}}"><view class="{{['data-v-29ede610','dialog',''+(iphone_x?'iphone_x':'')]}}"><view class="picker-list data-v-29ede610"><view class="main-between picker-header data-v-29ede610"><view data-event-opts="{{[['tap',[['ecardToggle',['$event']]]]]}}" bindtap="__e" class="data-v-29ede610">取消</view><view data-event-opts="{{[['tap',[['ecardToggle',[1]]]]]}}" bindtap="__e" class="data-v-29ede610">确定</view></view><picker-view class="picker data-v-29ede610" value="{{[ecard_set_postage?ecard_postageIndex:-1]}}" data-event-opts="{{[['change',[['bindChange',['$event']]]]]}}" bindchange="__e"><picker-view-column class="data-v-29ede610"><block wx:for="{{ecard_postage}}" wx:for-item="item" wx:for-index="idx" wx:key="id"><view class="{{['data-v-29ede610','cross-center picker-text',[(newIndex===idx)?'sure-color':'',(newIndex===idx+1||newIndex===idx-1)?'cardinal-color':'',(newIndex===idx+2||newIndex===idx-2)?'even-color':'']]}}">{{item.name}}</view></block></picker-view-column></picker-view></view></view></block></scroll-view><block wx:if="{{is_service}}"><view class="dialog data-v-29ede610"><view class="dialog-item data-v-29ede610"><view class="dialog-title data-v-29ede610">服务内容</view><view class="type-list data-v-29ede610"><block wx:for="{{service}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{is_service}}"><view data-event-opts="{{[['tap',[['choose',['$0'],[[['service','',index]]]]]]]}}" class="dir-left-nowrap type-choose data-v-29ede610" bindtap="__e"><block wx:if="{{item.isChoose}}"><image class="active-status data-v-29ede610" src="./../image/active.png"></image></block><block wx:else><image class="active-status data-v-29ede610" src="/static/image/icon/form-er.png"></image></block><view class="{{['data-v-29ede610',''+(item.isChoose?'active':'')]}}">{{item.name}}</view></view></block></block></view><view class="main-center btn-area data-v-29ede610"><view data-event-opts="{{[['tap',[['cancelService',['$event']]]]]}}" class="submit-btn data-v-29ede610" bindtap="__e">取消</view><view class="line data-v-29ede610"></view><view data-event-opts="{{[['tap',[['submitService',['$event']]]]]}}" class="submit-btn be-submit data-v-29ede610" bindtap="__e">确认</view></view></view></view></block><block wx:if="{{modal}}"><view class="dialog data-v-29ede610"><view class="dialog-item data-v-29ede610"><view class="dialog-title data-v-29ede610">提示</view><block wx:if="{{set_cat}}"><view class="error-info data-v-29ede610">您暂未设置分类</view></block><block wx:if="{{set_postage&&postage.length==0}}"><view class="error-info data-v-29ede610">您暂未设置运费模板</view></block><block wx:if="{{set_service&&service.length==0}}"><view class="error-info data-v-29ede610">您暂未设置服务内容</view></block><block wx:if="{{set_card&&card.length==0}}"><view class="error-info data-v-29ede610">您暂未设置卡券</view></block><view class="error-info data-v-29ede610">请前往商城后台设置</view><view class="main-center btn-area data-v-29ede610"><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="submit-btn be-submit data-v-29ede610" bindtap="__e">确认</view></view></view></view></block><block wx:if="{{error}}"><view class="dialog data-v-29ede610"><view class="dialog-item data-v-29ede610"><view class="dialog-title data-v-29ede610">提示</view><view class="error-info data-v-29ede610">{{error}}</view><view class="main-center btn-area data-v-29ede610"><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="submit-btn be-submit data-v-29ede610" bindtap="__e">确认</view></view></view></view></block><block wx:if="{{beSubmit}}"><view class="dialog data-v-29ede610"><view class="dialog-item data-v-29ede610"><view class="dialog-title data-v-29ede610">提示</view><view class="submit-info data-v-29ede610">是否确认要上架此商品</view><view class="main-center btn-area data-v-29ede610"><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="submit-btn data-v-29ede610" bindtap="__e">取消</view><view class="line data-v-29ede610"></view><view data-event-opts="{{[['tap',[['toSubmit',['$event']]]]]}}" class="submit-btn be-submit data-v-29ede610" bindtap="__e">确认</view></view></view></view></block></app-layout>