(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order-detail/order-detail"],{1473:function(e,t,o){},"57b3":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o("ee50"));function r(e){return e&&e.__esModule?e:{default:e}}var a=function(){return o.e("components/page-component/app-order-goods-info/app-order-goods-info").then(o.bind(null,"1602"))},i=function(){return o.e("components/page-component/app-order-express/app-order-express").then(o.bind(null,"2338"))},d=function(){return o.e("components/page-component/app-order-banner/app-order-banner").then(o.bind(null,"ccb8"))},s=function(){return Promise.all([o.e("common/vendor"),o.e("components/basic-component/app-jump-button/app-jump-button")]).then(o.bind(null,"b362"))},c={components:{AppJumpButton:s,"app-order-goods-info":a,"app-order-express":i,"app-order-banner":d},data:function(){return{order_id:null,orderDetail:{detailExpressRelation:[],detailExpress:[]},is_show:!1,advance_order:{goods_num:0},detail:[],sign:"",ecard:[]}},computed:{getPageUrl:function(){var e=this.orderDetail;if(1==e.is_send&&0==e.detailExpress.length){var t="";return e.detail.forEach(function(e,o){0===o&&(t=e.goods_info.pic_url)}),"/pages/order/express-detail/express-detail?express=".concat(e.express,"&customer_name=").concat(e.customer_name,"&express_no=").concat(e.express_no,"&cover_pic=").concat(t)}if(1==e.is_send&&1==e.detailExpress.length){var o=e.detailExpress[0].express,n=e.detailExpress[0].express_no,r=e.detailExpress[0].customer_name,a=e.detailExpress[0].expressRelation[0].orderDetail.goods_info.goods_attr.cover_pic;return"/pages/order/express-detail/express-detail?express="+o+"&customer_name="+r+"&express_no="+n+"&cover_pic="+a}if(e.detailExpress.length>=1)return"/pages/order/express-list/express-list?order_id="+e.id}},methods:{toggle:function(e){this.orderDetail.composition_list[e].show=!this.orderDetail.composition_list[e].show,this.$forceUpdate()},getOrderDetail:function(){var t=this;t.$showLoading(),t.$request({url:t.$api.order.detail,data:{id:t.order_id}}).then(function(o){if(t.$hideLoading(),t.is_show=!0,0==o.code){if(t.orderDetail=o.data.detail,t.ecard=[t.orderDetail.type_data.ecard[0]],"composition"==t.sign)for(var n in t.orderDetail.composition_list)t.orderDetail.composition_list[n].show=!1}else e.showModal({title:"",content:o.msg,showCancel:!1})}).catch(function(){t.$hideLoading()})},copyText:function(e){n.default.copyText(e)},copyTextEcard:function(e){for(var t="",o=0;o<e.length;o++)t+="".concat(e[o].key,":").concat(e[o].value,"\n");n.default.copyText(t)},navigation:function(t){e.openLocation({latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude),name:t.name,address:t.address})},cancel:function(t){e.navigateTo({url:"/pages/order/refund/order-refund?id="+t.id})},cancelAction:function(t){var o=this;e.showLoading({title:"取消中"}),o.$request({url:o.$api.order.cancel,data:{id:t.id}}).then(function(t){e.hideLoading(),0===t.code?"advance"===o.sign?o.$request({url:o.$api.advance.order_detail,method:"get",data:{id:o.order_id}}).then(function(t){o.is_show=!0,0===t.code?o.orderDetail=t.data.detail:e.showModal({title:"",content:t.msg,showCancel:!1})}):o.getOrderDetail():e.showModal({title:"",content:t.msg,showCancel:!1})}).catch(function(){e.hideLoading()})},mobile:function(){e.makePhoneCall({phoneNumber:this.orderDetail.city.mobile})},go_eCard:function(){e.navigateTo({url:"/pages/order/ecard-directions/ecard-directions?order_id=".concat(this.orderDetail.id)})}},onLoad:function(e){this.order_id=e.id,this.sign=e.sign},onShow:function(){var t=this,o=setInterval(function(){"advance"===t.sign?t.$request({url:t.$api.advance.order_detail,method:"get",data:{id:t.order_id}}).then(function(o){t.is_show=!0,0===o.code?t.orderDetail=o.data.detail:e.showModal({title:"",content:o.msg,showCancel:!1})}):t.getOrderDetail(),clearInterval(o)},300)}};t.default=c}).call(this,o("543d")["default"])},"581e":function(e,t,o){"use strict";o.r(t);var n=o("a03c"),r=o("6b22");for(var a in r)"default"!==a&&function(e){o.d(t,e,function(){return r[e]})}(a);o("c137");var i=o("2877"),d=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"bc52d37c",null);t["default"]=d.exports},"6b22":function(e,t,o){"use strict";o.r(t);var n=o("57b3"),r=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t["default"]=r.a},a03c:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.ecard=e.orderDetail.type_data.ecard})},r=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r})},c137:function(e,t,o){"use strict";var n=o("1473"),r=o.n(n);r.a}},[["4eb9","common/runtime","common/vendor"]]]);