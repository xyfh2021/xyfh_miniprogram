(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/favorite/favorite"],{"0d0b":function(o,t,i){"use strict";i.r(t);var e=i("d343"),n=i.n(e);for(var s in e)"default"!==s&&function(o){i.d(t,o,function(){return e[o]})}(s);t["default"]=n.a},4205:function(o,t,i){},"517e":function(o,t,i){"use strict";var e=i("4205"),n=i.n(e);n.a},"77cb":function(o,t,i){"use strict";i.r(t);var e=i("7efd"),n=i("0d0b");for(var s in n)"default"!==s&&function(o){i.d(t,o,function(){return n[o]})}(s);i("517e");var d=i("2877"),a=Object(d["a"])(n["default"],e["a"],e["b"],!1,null,"2ec69116",null);t["default"]=a.exports},"7efd":function(o,t,i){"use strict";var e=function(){var o=this,t=o.$createElement;o._self._c},n=[];i.d(t,"a",function(){return e}),i.d(t,"b",function(){return n})},d343:function(o,t,i){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i("2f62");function n(o,t){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),i.push.apply(i,e)}return i}function s(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){d(o,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function d(o,t,i){return t in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}var a=function(){return i.e("components/basic-component/app-tab-nav/app-tab-nav").then(i.bind(null,"7fd0"))},g=function(){return Promise.all([i.e("common/vendor"),i.e("components/page-component/app-goods-list/app-goods-list")]).then(i.bind(null,"3f73"))},r=function(){return i.e("components/page-component/app-special-topic/app-special-topic-list").then(i.bind(null,"1bf2"))},u=function(){return i.e("components/page-component/app-no-goods/app-no-goods").then(i.bind(null,"8112"))},c={data:function(){return{tabList:[{id:1,name:"商品"},{id:2,name:"专题"}],loading:!1,activeTab:"1",isRecommend:!1,page:2,list:[],title:"没有任何收藏商品哦~",first_request:!1}},components:{"app-tab-nav":a,"app-goods-list":g,"app-special-topic-list":r,"app-no-goods":u},computed:s({},(0,e.mapState)({userInfo:function(o){return o.user.info}}),{},(0,e.mapGetters)("mallConfig",{getTheme:"getTheme"})),methods:{tabStatus:function(t){if(this.loading)return!1;var i=t.currentTarget.dataset.id;this.list=[],this.title=2===i?"没有任何收藏专题哦~":"没有任何收藏商品哦~",this.page=2,this.activeTab=i,o.showLoading({title:"加载中..."}),this.getList()},getList:function(){var t,i=this;this.loading=!0,t=1==i.activeTab?i.$api.user.my_favorite_goods:i.$api.user.my_favorite_topic;var e=[];i.$request({url:t,method:"get"}).then(function(t){i.$hideLoading(),o.hideLoading(),0==t.code?(i.loading=!1,1==i.activeTab?t.data.list.forEach(function(o,n){o.goods.price_content=o.goods.price,o.goods.mch_id>0?o.goods.page_url="/plugins/mch/goods/goods?id="+o.goods.id+"&mch_id="+o.goods.mch_id:"advance"==o.goods.sign?o.goods.page_url="/plugins/advance/detail/detail?id="+o.goods.id:"pintuan"==o.goods.sign?o.goods.page_url="/plugins/pt/goods/goods?goods_id="+o.goods.id:"miaosha"==o.goods.sign?o.goods.page_url="/plugins/miaosha/goods/goods?id="+o.goods.id:"gift"==o.goods.sign?o.goods.page_url="/plugins/gift/goods/goods?id="+o.goods.id:"booking"==o.goods.sign?o.goods.page_url="/plugins/book/goods/goods?goods_id="+o.goods.id:"advance"==o.goods.sign?o.goods.page_url="plugins/advance/detail/detail?id"+o.goods.id:""==o.goods.sign?o.goods.page_url="/pages/goods/goods?id="+o.goods.id:o.goods.page_url="/plugins/"+o.goods.sign+"/goods/goods?goods_id="+o.goods.id,e.push(o.goods),n==t.data.list.length-1&&(i.list=e)}):i.list=t.data.list):o.showToast({title:t.msg,icon:"none",duration:1e3})}).catch(function(){i.loading=!1,i.$hideLoading(),o.hideLoading(),i.$event.on(i.$const.EVENT_USER_LOGIN).then(function(){i.getList()})})},getMore:function(){var t,i=this;if(1==i.page)return!1;o.showLoading({text:"加载中..."}),t=1==i.activeTab?i.$api.user.my_favorite_goods:i.$api.user.my_favorite_topic,i.$request({url:t,data:{page:i.page}}).then(function(t){if(o.hideLoading(),0==t.code){if(t.data.list.length>0)if(i.loading=null,i.page++,1==i.activeTab){var e=[];t.data.list.forEach(function(o,n){o.goods.price_content=o.goods.price,o.goods.mch_id>0?o.goods.page_url="/plugins/mch/goods/goods?id="+o.goods.id+"&mch_id="+o.goods.mch_id:"advance"==o.goods.sign?o.goods.page_url="/plugins/advance/detail/detail?id="+o.goods.id:"pintuan"==o.goods.sign?o.goods.page_url="/plugins/pt/goods/goods?goods_id="+o.goods.id:"miaosha"==o.goods.sign?o.goods.page_url="/plugins/miaosha/goods/goods?id="+o.goods.id:"booking"==o.goods.sign?o.goods.page_url="/plugins/book/goods/goods?goods_id="+o.goods.id:"advance"==o.goods.sign?o.goods.page_url="plugins/advance/detail/detail?id"+o.goods.id:"gift"==o.goods.sign?o.goods.page_url="/plugins/gift/goods/goods?id="+o.goods.id:""==o.goods.sign?o.goods.page_url="/pages/goods/goods?id="+o.goods.id:o.goods.page_url="/plugins/"+o.goods.sign+"/goods/goods?goods_id="+o.goods.id,e.push(o.goods),n==t.data.list.length-1&&(i.list=i.list.concat(e))})}else i.list=i.list.concat(t.data.list)}else o.showToast({title:t.msg,icon:"none",duration:1e3})}).catch(function(t){o.hideLoading()})}},onReachBottom:function(){this.getMore()},onLoad:function(){this.$showLoading({type:"global",text:"加载中..."}),this.getList()}};t.default=c}).call(this,i("543d")["default"])}},[["f154","common/runtime","common/vendor"]]]);